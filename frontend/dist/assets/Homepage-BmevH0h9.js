import{a0 as _,c as E,r as n,a1 as F,g as N,W as I,a2 as B,j as e,a3 as H,a4 as D,C as L,a5 as z,a6 as T}from"./index-DLaIVEUD.js";import{P as A}from"./Profile-C5plvNdK.js";import{p as l}from"./purify.es-Bq0E5Q3l.js";import{S as x,A as j}from"./Snackbar-DJwGGt_I.js";import"./createSvgIcon-DUBVtWZV.js";import"./useControlled-DtlpH-Kv.js";import"./ButtonBase-CKMuaNYP.js";import"./Grow-DAxDnkyS.js";function Q(){const{username:a}=_(),m=E("root"),[t,w]=n.useState({}),[i,y]=n.useState([]),[c,S]=n.useState([]),[P,b]=n.useState(!1),[h,r]=n.useState(!1),[k,u]=n.useState(!1),[v,d]=n.useState(!1),p=(s,o)=>{o!=="clickaway"&&u(!1)},g=(s,o)=>{o!=="clickaway"&&d(!1)};n.useEffect(()=>{F(a).then(s=>{w(s),s!=null&&b(!0)}),N(a,"blogPost").then(s=>{y(s)}),I(a).then(s=>{S(s),document.title="NoAI Blog - "+a}),B(a).then(s=>{r(!!s)})},[a]);function C(){m.username!=null&&m.username!==t.username&&z(a).then(s=>{s?(r(!0),d(!0)):(r(!1),u(!0))})}function U(){T(a).then(s=>{s?(r(!1),d(!0)):(r(!0),u(!0))})}if(P){const s={"@context":"https://schema.org","@type":"ProfilePage",dateCreated:t.created_date,dateModified:t.updated_date,mainEntity:{"@type":"Person",name:l.sanitize(t.first_name+" "+t.last_name),alternateName:l.sanitize(t.username),description:l.sanitize(t.about_me),image:l.sanitize(t.profile_picture)}};return e.jsxs(e.Fragment,{children:[e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),e.jsxs("div",{id:"homepage",children:[e.jsx(H,{type:"user",isFlaggedParam:t.flagged,content:t}),e.jsxs("div",{className:"user-box",children:[e.jsx(A,{content:{user:t}}),e.jsx("button",{type:"button",onClick:h?()=>U():()=>C(),id:"follow",children:h?"Unfollow":"Follow"})]}),e.jsxs("div",{className:"general-info",children:[e.jsx("p",{children:t.about_me}),e.jsx("p",{children:t.technical_info})]}),e.jsxs("div",{className:"extra-info",children:[e.jsx("h2",{children:"Links"}),e.jsx("ul",{className:"links",children:c===null||c.length===0?e.jsx("p",{children:"This user doesn't have any links!"}):c.map((o,f)=>e.jsx("li",{children:e.jsx("a",{href:o.link,children:o.name})},f))}),e.jsx("h2",{children:"Blog Posts"}),e.jsx("ul",{className:"feed",children:i===null||i.length===0?e.jsx("p",{children:"There's nothing here!"}):i.map((o,f)=>e.jsx(D,{content:o},f))})]}),e.jsx(x,{open:k,autoHideDuration:5e3,onClose:p,children:e.jsx(j,{onClose:p,severity:"error",variant:"filled","data-testid":"failure-alert",children:"Something went wrong!"})}),e.jsx(x,{open:v,autoHideDuration:5e3,onClose:g,children:e.jsx(j,{"data-testid":"success-alert",onClose:g,severity:"success",variant:"filled",children:"Operation successfull!"})})]})]})}else return e.jsx(L,{sx:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}})}export{Q as default};

import{j as s,r as d,ai as c,s as l,L as h,aj as x,ak as p}from"./index-CTc59INo.js";import{F as j}from"./FlagButton-C724_XQs.js";import{u as f}from"./useMutation-CLBjiE73.js";import{T as g}from"./Thumbnail-BS_MPS5t.js";import{c as t}from"./createSvgIcon-JLHxTina.js";import{D as v}from"./Delete-DdNWrYR4.js";import{D as b}from"./Dialog-BZI815Xn.js";const E=t(s.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"}),"PlaylistAdd"),y=t(s.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zM3 16h7v-2H3zm11.41 6L17 19.41 19.59 22 21 20.59 18.41 18 21 15.41 19.59 14 17 16.59 14.41 14 13 15.41 15.59 18 13 20.59z"}),"PlaylistRemove");function k({content:e,isAdminDashboard:o,refetch:i}){const[m,a]=d.useState(!1);function u(){p(e.user.username,l(e.title)).then(r=>{r&&(a(!1),i())})}const n=f({mutationFn:()=>c(e.user.username,l(e.title)),onSuccess:(r,M,N)=>{i()}});return s.jsxs("li",{className:"blog-post",children:[s.jsx(j,{type:"post",content:{username:e.user.username,slug:l(e.title)},isFlaggedParam:e.flagged}),s.jsxs(h,{to:"/post/"+e.user.username+"/"+l(e.title)+"/",children:[s.jsx(g,{url:e.thumbnail}),s.jsx("h2",{children:e.title}),s.jsxs("div",{className:"info",children:[s.jsx("p",{children:"By "+e.user.username}),s.jsx("p",{children:e.created_date.replace(/(T.*)/g,"")})]}),o&&x()?s.jsxs("div",{className:"flex-row-spacing",children:[s.jsx("button",{onClick:()=>n.mutate(),children:e.is_listicle?s.jsx(y,{}):s.jsx(E,{})}),s.jsx("button",{onClick:()=>a(!0),children:s.jsx(v,{})}),s.jsxs(b,{open:m,className:"delete-post-confirm",onClose:()=>a(!1),children:[s.jsx("h1",{children:"This will delete SOMEONE ELSE'S POST FOREVER as well as ALL OF THE COMMENTS!!! Are you sure?"}),s.jsx("button",{onClick:()=>u(),className:"accent-border",children:"Yes, I am sure"}),s.jsx("button",{onClick:()=>a(!1),className:"tertiary-border",children:"No, I'm not"})]})]}):null]})]})}export{k as B};

import{r as t,u as x,j as s,C as h,L as f}from"./index-8BmAB2w1.js";import{l as j}from"./auth-DP9TH2MG.js";import{E as b}from"./ErrorMessage-CdcaeTlI.js";import{V as v,a as w}from"./VisibilityOff-Dx22_Uoq.js";import"./createSvgIcon-DmniPV4F.js";function S(){const[a,n]=t.useState({username:"",password:""}),l=x(),[m,c]=t.useState(!1),[i,d]=t.useState(!1),[u,r]=t.useState(!1),o=e=>n({...a,[e.target.name]:e.target.value});function g(e){e.preventDefault(),r(!0),j(a).then(p=>{p?l("/login-redirect"):c(!0),r(!1)})}return u?s.jsx(h,{sx:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}}):s.jsxs("div",{className:"custom-form",id:"login",children:[s.jsxs("form",{onSubmit:e=>g(e),"aria-label":"Log in",children:[s.jsxs("div",{className:"item",children:[s.jsx("label",{htmlFor:"username",children:"Username"}),s.jsx("input",{id:"username",name:"username",onChange:e=>o(e)})]}),s.jsxs("div",{className:"item",children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"password",children:[s.jsx("input",{id:"password",name:"password",type:i?"text":"password",onChange:e=>o(e),maxLength:128}),s.jsx("button",{id:"toggle-visibility",type:"button",className:"icon-button",onClick:()=>d(!i),children:i?s.jsx(v,{}):s.jsx(w,{})})]})]}),s.jsx("button",{type:"submit","data-testid":"login",children:"Login"}),s.jsxs("p",{children:["Or"," ",s.jsx(f,{to:"/register",className:"accent-highlight",children:"register"})]})]}),s.jsx(b,{isError:m,message:"Username or password is incorrect"})]})}export{S as default};

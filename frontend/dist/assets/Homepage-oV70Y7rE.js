import{E,x as U,r as n,F as _,g as B,y as I,G as N,j as e,C as H,H as D,I as L}from"./index-Dxgc9yJU.js";import{B as z}from"./BlogPostThumbnail-B9S15SVg.js";import{P as T}from"./Profile-ClrVpQva.js";import{F as A}from"./FlagButton-C3SHWH4Z.js";import{p as l}from"./purify.es-Bq0E5Q3l.js";import{S as g,A as j}from"./Snackbar-76k6pNgb.js";import"./useMutation-KslmOtKr.js";import"./utils-km2FGkQ4.js";import"./Thumbnail-CfOHZ2aY.js";import"./createSvgIcon-BDn-ztRE.js";import"./Delete-4inW28gA.js";import"./Dialog-BiahbwnG.js";import"./utils-Bwzkltj-.js";import"./useSlot-EhI0lNey.js";import"./useForkRef-xTekV3VU.js";import"./Fade-JC5nnu-9.js";import"./useId-Cqy9ehWy.js";import"./createSvgIcon-O2rsP7Ut.js";import"./useSlotProps-CdfcR_iG.js";function ne(){const{username:o}=E(),d=U("root"),[t,w]=n.useState({}),[i,y]=n.useState([]),[u,S]=n.useState([]),[P,k]=n.useState(!1),[p,a]=n.useState(!1),[v,c]=n.useState(!1),[F,m]=n.useState(!1),h=(s,r)=>{r!=="clickaway"&&c(!1)},x=(s,r)=>{r!=="clickaway"&&m(!1)};n.useEffect(()=>{_(o).then(s=>{w(s),s!=null&&k(!0)}),B(o).then(s=>{y(s)}),I(o).then(s=>{S(s),document.title="NoAI Blog - "+o}),N(o).then(s=>{a(!!s)})},[o]);function b(){d.username!=null&&d.username!==t.username&&D(o).then(s=>{s?(a(!0),m(!0)):(a(!1),c(!0))})}function C(){L(o).then(s=>{s?(a(!1),m(!0)):(a(!0),c(!0))})}if(P){const s={"@context":"https://schema.org","@type":"ProfilePage",dateCreated:t.created_date,dateModified:t.updated_date,mainEntity:{"@type":"Person",name:l.sanitize(t.first_name+" "+t.last_name),alternateName:l.sanitize(t.username),description:l.sanitize(t.about_me),image:l.sanitize(t.profile_picture)}};return e.jsxs(e.Fragment,{children:[e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),e.jsxs("div",{id:"homepage",children:[e.jsx(A,{type:"user",isFlaggedParam:t.flagged,content:t}),e.jsxs("div",{className:"user-box",children:[e.jsx(T,{content:{user:t}}),e.jsx("button",{type:"button",onClick:p?()=>C():()=>b(),id:"follow",children:p?"Unfollow":"Follow"})]}),e.jsxs("div",{className:"general-info",children:[e.jsx("p",{children:t.about_me}),e.jsx("p",{children:t.technical_info})]}),e.jsxs("div",{className:"extra-info",children:[e.jsx("h2",{children:"Links"}),e.jsx("ul",{className:"links",children:u===null||u.length===0?e.jsx("p",{children:"This user doesn't have any links!"}):u.map((r,f)=>e.jsx("li",{children:e.jsx("a",{href:r.link,children:r.name})},f))}),e.jsx("h2",{children:"Blog Posts"}),e.jsx("ul",{className:"feed",children:i===null||i.length===0?e.jsx("p",{children:"There's nothing here!"}):i.map((r,f)=>e.jsx(z,{content:r},f))})]}),e.jsx(g,{open:v,autoHideDuration:5e3,onClose:h,children:e.jsx(j,{onClose:h,severity:"error",variant:"filled","data-testid":"failure-alert",children:"Something went wrong!"})}),e.jsx(g,{open:F,autoHideDuration:5e3,onClose:x,children:e.jsx(j,{"data-testid":"success-alert",onClose:x,severity:"success",variant:"filled",children:"Operation successfull!"})})]})]})}else return e.jsx(H,{sx:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}})}export{ne as default};

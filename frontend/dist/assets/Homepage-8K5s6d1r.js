import{E as C,x as E,r as i,F as N,g as U,y as I,G as B,j as e,C as H,H as T,I as D}from"./index-CPvdz9MR.js";import{d as L}from"./CalendarMonth-DD7z1-0o.js";import{B as z}from"./BlogPostThumbnail-BTfcIuT7.js";import{P as A}from"./Profile-CML3Z06k.js";import{F as M}from"./FlagButton-Cab8j0je.js";import{p as a}from"./purify.es-Bq0E5Q3l.js";import{S as g,A as j}from"./Snackbar-iSn45Epd.js";import"./createSvgIcon-Bjq5F4kG.js";import"./createSvgIcon-BdGwpSaf.js";import"./useId-bUVxMUMA.js";import"./useForkRef-BanOTJnS.js";import"./useMutation-D4m0sL4l.js";import"./utils-km2FGkQ4.js";import"./Thumbnail-C-wq_Cwb.js";import"./Delete-B8gR9d92.js";import"./Dialog-BVk6m3fr.js";import"./utils-DJA44ZMh.js";import"./useSlot-CR-5-Cb9.js";import"./Fade-DNM1kSsQ.js";import"./useSlotProps-BP4Lu-bh.js";function ae(){const{username:o}=C(),f=E("root"),[t,w]=i.useState({}),[l,v]=i.useState([]),[c,y]=i.useState([]),[S,b]=i.useState(!1),[p,n]=i.useState(!1),[P,u]=i.useState(!1),[k,d]=i.useState(!1),h=(s,r)=>{r!=="clickaway"&&u(!1)},x=(s,r)=>{r!=="clickaway"&&d(!1)};i.useEffect(()=>{N(o).then(s=>{w(s),s!=null&&b(!0)}),U(o).then(s=>{v(s)}),I(o).then(s=>{y(s),document.title="NoAI Blog - "+o}),B(o).then(s=>{n(!!s)})},[o]);function _(){f.username!=null&&f.username!==t.username&&T(o).then(s=>{s?(n(!0),d(!0)):(n(!1),u(!0))})}function F(){D(o).then(s=>{s?(n(!1),d(!0)):(n(!0),u(!0))})}if(S){const s={"@context":"https://schema.org","@type":"ProfilePage",dateCreated:t.created_date,dateModified:t.updated_date,mainEntity:{"@type":"Person",name:a.sanitize(t.first_name+" "+t.last_name),alternateName:a.sanitize(t.username),description:a.sanitize(t.about_me),image:a.sanitize(t.profile_picture)}};return e.jsxs(e.Fragment,{children:[e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),e.jsxs("div",{id:"homepage",children:[e.jsx(M,{type:"user",isFlaggedParam:t.flagged,content:t}),e.jsxs("div",{className:"user-box",children:[e.jsx(A,{content:{user:t}}),e.jsx("button",{type:"button",onClick:p?()=>F():()=>_(),id:"follow",children:p?"Unfollow":"Follow"})]}),e.jsxs("div",{className:"general-info",children:[e.jsxs("div",{className:"about-me-wrapper",children:[e.jsx("p",{id:"about-me",children:t.about_me}),e.jsxs("div",{id:"member-since",children:[e.jsx(L,{}),e.jsxs("p",{children:["Member since ",t.date_joined.replace(/(T.*)/g,"")]})]})]}),e.jsxs("div",{className:"technical-info",children:[e.jsx("h2",{children:"Technical Info"}),e.jsx("p",{children:t.technical_info})]})]}),e.jsxs("div",{className:"extra-info",children:[e.jsxs("div",{className:"links",children:[e.jsx("h2",{children:"Links"}),c===null||c.length===0?e.jsx("p",{children:"This user doesn't have any links!"}):c.map((r,m)=>e.jsx("li",{children:e.jsx("a",{href:r.link,children:r.name})},m))]}),e.jsxs("div",{className:"list",children:[e.jsx("h2",{children:"Blog Posts"}),l===null||l.length===0?e.jsx("p",{children:"There's nothing here. Go make some posts!"}):l.map((r,m)=>e.jsx(z,{content:r},m))]})]}),e.jsx(g,{open:P,autoHideDuration:5e3,onClose:h,children:e.jsx(j,{onClose:h,severity:"error",variant:"filled","data-testid":"failure-alert",children:"Something went wrong!"})}),e.jsx(g,{open:k,autoHideDuration:5e3,onClose:x,children:e.jsx(j,{"data-testid":"success-alert",onClose:x,severity:"success",variant:"filled",children:"Operation successfull!"})})]})]})}else return e.jsx(H,{sx:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}})}export{ae as default};

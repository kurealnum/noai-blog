import{j as s,r as t,ah as x,s as a,L as p,ai as j,aj as f}from"./index-Dxgc9yJU.js";import{F as g}from"./FlagButton-C3SHWH4Z.js";import{u as v}from"./useMutation-KslmOtKr.js";import{T as b}from"./Thumbnail-CfOHZ2aY.js";import{c as o}from"./createSvgIcon-BDn-ztRE.js";import{D as E}from"./Delete-4inW28gA.js";import{D as N}from"./Dialog-BiahbwnG.js";const M=o(s.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"}),"PlaylistAdd"),S=o(s.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zM3 16h7v-2H3zm11.41 6L17 19.41 19.59 22 21 20.59 18.41 18 21 15.41 19.59 14 17 16.59 14.41 14 13 15.41 15.59 18 13 20.59z"}),"PlaylistRemove");function I({content:e,isAdminDashboard:m,refetch:i}){const[u,l]=t.useState(!1),[n,c]=t.useState(e.user.profile_picture!=null);function d(){f(e.user.username,a(e.title)).then(r=>{r&&(l(!1),i())})}const h=v({mutationFn:()=>x(e.user.username,a(e.title)),onSuccess:(r,y,z)=>{i()}});return s.jsxs("li",{className:"blog-post",children:[s.jsx(g,{type:"post",content:{username:e.user.username,slug:a(e.title)},isFlaggedParam:e.flagged}),s.jsxs(p,{to:"/post/"+e.user.username+"/"+a(e.title)+"/",children:[s.jsx(b,{url:e.thumbnail}),s.jsx("h2",{children:e.title}),s.jsxs("div",{className:"info",children:[s.jsxs("div",{className:"info-user-box",children:[n?s.jsx("img",{src:e.user.profile_picture,onError:()=>c(!1)}):null,s.jsx("p",{children:e.user.username})," "]}),s.jsx("p",{children:e.created_date.replace(/(T.*)/g,"")})]}),m&&j()?s.jsxs("div",{className:"flex-row-spacing",children:[s.jsx("button",{onClick:()=>h.mutate(),children:e.is_listicle?s.jsx(S,{}):s.jsx(M,{})}),s.jsx("button",{onClick:()=>l(!0),children:s.jsx(E,{})}),s.jsxs(N,{open:u,className:"delete-post-confirm",onClose:()=>l(!1),children:[s.jsx("h1",{children:"This will delete SOMEONE ELSE'S POST FOREVER as well as ALL OF THE COMMENTS!!! Are you sure?"}),s.jsx("button",{onClick:()=>d(),className:"accent-border",children:"Yes, I am sure"}),s.jsx("button",{onClick:()=>l(!1),className:"tertiary-border",children:"No, I'm not"})]})]}):null]})]})}export{I as B};

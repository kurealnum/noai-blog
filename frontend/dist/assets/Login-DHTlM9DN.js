import{r as t,u as p,j as s,C as h,L as f}from"./index-BX5Plg-3.js";import{l as j}from"./auth-uCiUU3IV.js";import{E as b}from"./ErrorMessage-BgnQzp19.js";import{V as v,a as w}from"./VisibilityOff-Btcsgd4n.js";function E(){const[i,n]=t.useState({username:"",password:""}),l=p(),[m,c]=t.useState(!1),[a,d]=t.useState(!1),[u,r]=t.useState(!1),o=e=>n({...i,[e.target.name]:e.target.value});function g(e){e.preventDefault(),r(!0),j(i).then(x=>{x?l("/login-redirect"):c(!0),r(!1)})}return u?s.jsx(h,{sx:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto"}}):s.jsxs("div",{className:"custom-form",id:"login",children:[s.jsxs("form",{onSubmit:e=>g(e),"aria-label":"Log in",children:[s.jsxs("div",{className:"item",children:[s.jsx("label",{htmlFor:"username",children:"Username"}),s.jsx("input",{id:"username",name:"username",onChange:e=>o(e)})]}),s.jsxs("div",{className:"item",children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"password",children:[s.jsx("input",{id:"password",name:"password",type:a?"text":"password",onChange:e=>o(e),maxLength:128}),s.jsx("button",{id:"toggle-visibility",type:"button",className:"icon-button",onClick:()=>d(!a),children:a?s.jsx(v,{}):s.jsx(w,{})})]})]}),s.jsx("button",{type:"submit","data-testid":"login",children:"Login"}),s.jsxs("p",{children:["Or"," ",s.jsx(f,{to:"/register",className:"accent-highlight",children:"register"})]})]}),s.jsx(b,{isError:m,message:"Username or password is incorrect"})]})}export{E as default};
